% if defined?(signup)
  % if signup.errors[:name] == [:not_present]
    <p>Company name is required</p>
  % end
  % if signup.errors[:email] == [:not_email]
    <p>E-mail not valid</p>
  % end
  % if signup.errors[:email] == [:not_unique]
    <p>This e-mail is already registered</p>
  % end
  % if signup.errors[:url] == [:not_url]
    <p>URL not valid</p>
  % end
  % if signup.errors[:password].include?(:not_in_range)
    <p>The password length must be at least 6 characters</p>
  % end
  % if signup.errors[:password] == [:not_confirmed]
    <p>Passwords don't match</p>
  % end
  % if !signup.errors[:error_message].empty?
    <p>{{ signup.errors[:error_message][0] }}</p>
  % end
% end

<section>
  <h1>Sign up and start posting!</h1>

  <form action="/signup" method="POST">

    <input type="text" name="company[name]" placeholder="Company name" value="{{ this.h(company['name']) }}"><br/>

    <input type="email" name="company[email]" placeholder="E-email" value="{{ this.h(company['email']) }}"><br/>

    <input type="text" name="company[url]" placeholder="URL" value="{{ this.h(company['url']) }}"><br/>

    <input type="password" name="company[password]" placeholder="Password"><br/>

    <input type="password" name="company[password_confirmation]" placeholder="Password confirmation"><br/><br/>

    {{ this.partial("accepted_cards") }}

    {{ this.partial("new_card") }}

    <span>
      {{ this.partial("plans", plan_id: plan_id) }}
    </span>

    <button type="submit" id="button">Sign up!</button>
  </form>
</section>
